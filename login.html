<!DOCTYPE html>
<html>
<head>
  <title>Login Test</title>
</head>
<body>

<input id="email" placeholder="email"><br><br>
<input id="password" type="password" placeholder="password"><br><br>
<button onclick="login()">Login</button>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword } 
from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyA7U96MP2BheQ1ilIUqd2UgycPs8KVC-Gc",
  authDomain: "chatapp-d38d3.firebaseapp.com",
  projectId: "chatapp-d38d3",
  appId: "1:321814992234:web:d1d8eb9d63fcafc53ec113"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

window.login = async () => {
  const email = document.getElementById("email").value;
  const pass = document.getElementById("password").value;

  try {
    await signInWithEmailAndPassword(auth, email, pass);
    alert("LOGIN SUCCESS");
  } catch (e) {
    if (e.code === "auth/user-not-found") {
      await createUserWithEmailAndPassword(auth, email, pass);
      alert("SIGNUP SUCCESS");
    } else {
      alert(e.code);
    }
  }
};
</script>

</body>
</html>
