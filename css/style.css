:root{
  --card-bg: #fff;
  --accent: #2aa6ff;
  --bg-grad: url('../images/bg-gradient.png');
  --page-pad: 14px;
  --grid-gap: 12px;
  --cell-size: 64px;
  --cols: 7;
}

/* basic reset */
*{box-sizing:border-box}
body{font-family:Inter,system-ui,Segoe UI,Arial;color:#111;background:linear-gradient(180deg,#fff 0%, #f1fbff 40%);margin:0;min-height:100vh}
.container{max-width:760px;margin:18px auto;padding:0 14px}
.app-header{display:flex;align-items:center;justify-content:space-between;padding:8px 14px;background:rgba(255,255,255,0.7);position:sticky;top:0;z-index:10;border-bottom:1px solid rgba(0,0,0,0.04)}
.brand{font-weight:700;}
.top-nav a{margin-left:12px;color:#1b76d6;text-decoration:none}

/* cards */
.card{background:var(--card-bg);border-radius:14px;padding:18px;margin:16px 0;box-shadow:0 14px 40px rgba(10,20,40,0.06)}
.hero h1{font-size:28px;margin:0 0 8px}
.lead{color:#666}
.btn-row .btn{margin-right:10px}
.btn{display:inline-block;padding:10px 16px;border-radius:10px;background:#fff;border:1px solid rgba(0,0,0,0.06);cursor:pointer;text-decoration:none;color:#333}
.btn.primary{background:var(--accent);color:#fff;border:none}
.btn.invert{background:#fff;border:1px solid #ddd}

/* level map grid */
.map-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px}
.level-card{padding:12px;border-radius:10px;text-align:center;box-shadow:0 10px 24px rgba(10,20,40,0.04);background:#fff}
.level-card.locked{opacity:0.5;filter:grayscale(0.2)}
.level-card .thumb img{width:100%;height:72px;object-fit:contain}

/* stats row */
.stats-row{display:flex;flex-wrap:wrap;gap:12px;margin:8px 0 18px}
.stat{background:#fff;padding:10px 12px;border-radius:10px;box-shadow:0 8px 22px rgba(10,20,40,0.05)}

/* stars */
.stars{font-size:22px;color:#f3c623;margin-bottom:12px}

/* grid container */
.game-grid-container{display:flex;justify-content:center}
.game-grid{
  display:grid;
  gap:var(--grid-gap);
  grid-template-columns: repeat(var(--cols), var(--cell-size));
  padding:8px;
  touch-action:none;
  width:100%;
  max-width:calc(var(--cols) * var(--cell-size) + (var(--cols)-1)*var(--grid-gap));
  margin:0 auto 10px;
}

/* cell box */
.game-grid .cell{
  width:var(--cell-size); height:var(--cell-size);
  background:#fff;border-radius:12px;display:flex;align-items:center;justify-content:center;
  user-select:none;position:relative;overflow:visible;box-shadow:0 10px 26px rgba(10,20,40,0.06);
  transition: transform .18s ease, box-shadow .12s;
}
.game-grid .cell img{width:78%;height:78%;object-fit:contain;pointer-events:none;-webkit-user-drag:none; transition: transform .12s linear, opacity .15s}

/* dragging clone */
.dragging-clone{position:fixed;z-index:9999;width:56px;height:56px;transform:translate(-50%,-50%);pointer-events:none;transition:transform .08s linear;}

/* touch feedback */
.cell.swapping{transform:scale(.98);box-shadow:0 12px 30px rgba(0,0,0,0.12)}
.cell.invalid{animation:shake .18s}
@keyframes shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-8px)}
  50%{transform:translateX(6px)}
  75%{transform:translateX(-4px)}
  100%{transform:translateX(0)}
}

/* popup */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,0.35);z-index:40;display:flex;align-items:center;justify-content:center}
.popup{position:fixed;left:50%;top:30%;transform:translateX(-50%);background:#fff;padding:20px;border-radius:14px;z-index:41;box-shadow:0 18px 46px rgba(0,0,0,0.25)}
.hidden{display:none}

/* responsive tweak: smaller cells on thin screens */
@media (max-width:520px){
  :root{--cell-size:56px; --cols:6}
  .map-grid{grid-template-columns:repeat(3,1fr)}
}
@media (max-width:380px){
  :root{--cell-size:48px; --cols:5}
  .stats-row{flex-direction:column}
      }
