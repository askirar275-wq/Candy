/* ===== Candy grid small animations & layout (add/append) ===== */

.board-card {
  display:flex;
  flex-direction:column;
  gap:12px;
  padding:18px;
  border-radius:16px;
  background:#fff;
  max-width:520px;
  margin:0 auto;
  box-shadow:0 20px 48px rgba(0,0,0,0.06);
}

/* grid container */
.game-grid-container{
  width:100%;
  max-height: calc(100vh - 320px);
  overflow:auto;
  padding:8px;
  display:flex;
  justify-content:center;
  align-items:flex-start;
}

/* responsive grid variables */
:root{ --cell-size:64px; --gap:12px; --cols:6; }

/* grid */
.game-grid{
  display:grid;
  gap:var(--gap);
  grid-template-columns: repeat(var(--cols), var(--cell-size));
  padding:12px;
  background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.99));
  border-radius:12px;
  justify-content:center;
}

/* cell */
.cell{
  width:var(--cell-size);
  height:var(--cell-size);
  border-radius:12px;
  background:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 12px 24px rgba(0,0,0,0.06);
  position:relative;
  transition: transform 200ms ease, box-shadow 120ms ease;
  user-select:none;
  -webkit-user-drag:none;
  overflow:visible;
}
.cell img{ width:72%; height:72%; object-fit:contain; pointer-events:none; }

/* dragging look */
.cell.dragging { transform: scale(1.04); box-shadow:0 18px 40px rgba(0,0,0,0.12); }

/* pop animation when removed */
.cell.pop {
  animation: popAway 220ms cubic-bezier(.2,.8,.2,1) forwards;
}
@keyframes popAway {
  0% { transform: scale(1); opacity:1; }
  60% { transform: scale(1.14); opacity:1; }
  100% { transform: scale(0.2); opacity:0; }
}

/* invalid swap shake */
.cell.invalid { animation: shake .22s; }
@keyframes shake{
  0%{ transform: translateX(0); }
  25%{ transform: translateX(-8px); }
  50%{ transform: translateX(6px); }
  75%{ transform: translateX(-4px); }
  100%{ transform: translateX(0); }
}

/* collapsed tile falling - we will animate translateY inline from JS for smoothness */
.tile-fall { transition: transform 320ms cubic-bezier(.22,.9,.28,1); }

/* small screens */
@media (max-width:420px){
  :root { --cell-size:52px; --gap:10px; --cols:5; }
  .board-card{ padding:12px; }
  .game-grid-container{ max-height: calc(100vh - 300px); }
      }
