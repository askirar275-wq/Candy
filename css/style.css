:root{
  --pink:#ff6fa3;
  --light:#fff7fb;
  --card:#ffffff;
  --muted:#666;
  --shadow: 0 12px 30px rgba(0,0,0,0.12);
  --radius:18px;
  --board-size: min(92vw,560px);
}
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans", "Helvetica Neue", "Arial";}
body{min-height:100vh;background:#ffeef6; background-size:cover; background-position:center; -webkit-font-smoothing:antialiased;}
.page{display:none;padding:18px;}
.page.active{display:block;}
.hero{max-width:520px;margin:40px auto;text-align:center; background:rgba(255,255,255,0.95);padding:36px;border-radius:20px;box-shadow:var(--shadow);}
.hero-icon{width:84px;height:84px;object-fit:contain;margin-bottom:6px;}
h1{font-size:40px;color:#ff4f87;margin-bottom:6px}
p{color:#444;margin-bottom:18px}
.big{background:linear-gradient(180deg,#ff80ab,#ff4081);color:#fff;border:0;padding:12px 20px;border-radius:40px;font-size:18px;box-shadow:0 8px 20px rgba(255,64,129,0.18)}
.ghost{background:transparent;border:2px solid rgba(0,0,0,0.06);padding:10px 14px;border-radius:14px}
.btn-row{gap:12px;display:flex;justify-content:center;align-items:center}
.header{display:flex;align-items:center;gap:20px;margin-bottom:12px}
.back{padding:10px 12px;border-radius:12px;background:#fff;border:1px solid rgba(0,0,0,0.06)}
.game-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.hud{display:flex;gap:10px;font-weight:600}
#boardWrap{display:flex;justify-content:center;padding:8px 0;margin-bottom:18px}
.board{width:var(--board-size);background:rgba(255,255,255,0.95);padding:18px;border-radius:20px;box-shadow:var(--shadow);display:grid;gap:12px;touch-action:manipulation}
.cell{width:100%;aspect-ratio:1;border-radius:14px;background:#fff;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 18px rgba(0,0,0,0.06);overflow:hidden;position:relative;transition:transform 180ms cubic-bezier(.2,.9,.2,1);}
.cell img{width:80%;height:80%;object-fit:contain;pointer-events:none;display:block;transition:transform 120ms}
.controls{display:flex;gap:18px;justify-content:center;margin-bottom:40px}
.control{background:#fff;padding:12px 18px;border-radius:28px;box-shadow:var(--shadow);border:0}
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.35);z-index:50}
.modal.hidden{display:none}
.modal-inner{background:#fff;padding:20px;border-radius:16px;min-width:260px;text-align:center;box-shadow:var(--shadow)}
.pack-btn{display:block;width:100%;padding:10px 12px;margin:8px 0;border-radius:12px;border:1px solid #eee}
.map-list{max-width:520px;margin:8px auto;padding:12px}
.map-item{display:block;background:#fff;padding:14px;border-radius:12px;margin-bottom:10px;box-shadow:var(--shadow);cursor:pointer}
.loading{color:#555;padding:12px}

@media (min-width:880px){
  body{padding:20px}
  .page{max-width:980px;margin:0 auto}
  .board{--board-size:560px}
  }
