<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Candy Match 🍬</title>

  <!-- CSS Files -->
  <link rel="stylesheet" href="css/home.css">
  <link rel="stylesheet" href="css/game.css">
  <link rel="stylesheet" href="css/inventory.css">

  <style>
    /* fallback if CSS not loaded */
    .screen { display: none; }
    .screen.active { display: block; }
    #game-board { display:grid; grid-template-columns:repeat(8,1fr); gap:10px; max-width:520px; margin:12px auto; }
  </style>
</head>
<body>
  <!-- 🏠 HOME SCREEN -->
  <div id="home-screen" class="screen active" style="text-align:center;padding:28px 12px;">
    <img src="images/candy1.png" alt="logo" style="width:100px;height:100px;display:block;margin:6px auto;">
    <h1 class="title" style="margin:10px 0;font-size:34px;color:#d44a8c;">🍭 Candy Match</h1>
    <p class="subtitle" style="color:#6b5b5b;margin:0;">स्वीट गेम एडवेंचर — मोबाइल फ्रेंडली</p>

    <div style="display:flex;flex-direction:column;gap:12px;align-items:center;margin-top:24px;">
      <button id="startBtn" style="width:80%;padding:14px;border-radius:14px;background:#ff8fc1;color:white;border:0;font-weight:700;">🎮 Start</button>
      <button id="shopBtn" style="width:80%;padding:14px;border-radius:14px;background:#ff8fc1;color:white;border:0;font-weight:700;">🛒 Shop</button>
      <button id="settingsBtn" style="width:80%;padding:14px;border-radius:14px;background:#ff8fc1;color:white;border:0;font-weight:700;">⚙️ Settings</button>
    </div>
  </div>

  <!-- 🎮 GAME SCREEN -->
  <div id="game-screen" class="screen" style="padding:10px 12px;">
    <div class="topbar" style="display:flex;align-items:center;gap:12px;padding:12px;">
      <button id="backBtn" style="padding:8px 10px;border-radius:8px;background:#ffdff0;border:1px solid rgba(0,0,0,0.06);">⬅️ Home</button>
      <h2 style="margin:0;font-family:'Playfair Display',serif;">Score: <span id="score">0</span></h2>
      <div id="coinsBubble" class="coins-bubble" style="margin-left:auto;">Coins: <span id="coins">0</span></div>
      <div id="levelBadge" style="margin-left:12px;background:#fff5;padding:6px 10px;border-radius:12px;font-weight:700;">
        Level: <span id="currentLevel">1</span>
      </div>
    </div>

    <div id="game-board" class="board" aria-live="polite"></div>

    <div style="display:flex;justify-content:center;gap:12px;margin:18px 0;">
      <button id="restartBtn" style="padding:10px 16px;border-radius:10px;">Restart</button>
      <button id="shuffleBtn" style="padding:10px 16px;border-radius:10px;">Shuffle</button>
      <button id="openShopBtn" style="padding:10px 16px;border-radius:10px;">Open Shop</button>
    </div>
  </div>

  <!-- 🛒 SHOP MODAL -->
  <div id="shopModal" class="shop-modal" role="dialog" aria-hidden="true"
       style="display:none;position:fixed;inset:0;align-items:center;justify-content:center;background:rgba(0,0,0,0.35);z-index:999;">
    <div class="shop-card" style="background:#fff;border-radius:14px;padding:14px;width:92%;max-width:520px;">
      <div class="shop-top" style="display:flex;justify-content:space-between;align-items:center">
        <div><h3 style="margin:0">🛒 Shop</h3>
             <div class="small-note" style="color:#666;">Coins से power-ups खरीदें — Demo</div></div>
        <div style="text-align:right">
          <div style="font-size:12px;color:#666">Your Coins</div>
          <div class="coins-bubble" id="shopCoins">0</div>
        </div>
      </div>

      <div class="shop-grid" style="margin-top:12px;display:grid;grid-template-columns:1fr 1fr;gap:12px;">
        <div class="shop-item" style="padding:10px;border-radius:10px;background:#fff7fb;text-align:center;">
          <div style="font-size:20px">💣 Bomb</div><div style="font-weight:800">₹200</div><button id="buyBomb">Buy</button>
        </div>
        <div class="shop-item" style="padding:10px;border-radius:10px;background:#fff7fb;text-align:center;">
          <div style="font-size:20px">🔀 Shuffle</div><div style="font-weight:800">₹100</div><button id="buyShuffle">Buy</button>
        </div>
        <div class="shop-item" style="padding:10px;border-radius:10px;background:#fff7fb;text-align:center;">
          <div style="font-size:20px">➕ Extra Moves</div><div style="font-weight:800">₹80</div><button id="buyMoves">Buy</button>
        </div>
        <div class="shop-item" style="padding:10px;border-radius:10px;background:#fff7fb;text-align:center;">
          <div style="font-size:20px">✨ Rainbow Candy</div><div style="font-weight:800">₹350</div><button id="buyRainbow">Buy</button>
        </div>
      </div>
      <div style="display:flex;justify-content:flex-end;margin-top:12px;">
        <button id="closeShop" style="padding:8px 12px;border-radius:8px;">Close</button>
      </div>
    </div>
  </div>

  <!-- 🌟 LEVEL UP MODAL -->
  <div id="levelUpModal" style="display:none;position:fixed;inset:0;align-items:center;justify-content:center;background:rgba(0,0,0,0.5);z-index:9999;">
    <div style="background:#fff;padding:18px;border-radius:12px;width:90%;max-width:420px;text-align:center;">
      <h2 id="levelUpTitle">Level Up!</h2>
      <p id="levelUpText">Congrats — next level unlocked.</p>
      <div style="margin-top:12px;">
        <button id="levelUpClose">Continue</button>
      </div>
    </div>
  </div>

  <!-- ❤️ Footer -->
  <div style="text-align:center;margin-top:22px;color:#666;font-size:18px;">
    Made with 🥰 — Arun App Studio
  </div>

  <!-- ===================== JS Includes ===================== -->
  <script src="js/eruda-loader.js"></script>
  <script src="js/safe-ui.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/game.js"></script>
</body>
  </html>
