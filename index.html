<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Candy Match</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

  <!-- full-screen background image -->
  <div class="app-bg" style="background-image:url('images/bg-gradient.png')"></div>

  <div id="app" class="app">

    <!-- HOME PAGE -->
    <main id="home" class="page page--active">
      <div class="hero-card">
        <div class="hero-top">
          <img src="images/candy-icon.png" alt="logo" class="hero-logo" />
          <h1>ЁЯНн Candy Match</h1>
        </div>
        <p class="hero-sub">рд╕реНрд╡реАрдЯреНрд╕ рдХреЛ рдорд┐рд▓рд╛рдУ рдФрд░ рд▓реЗрд╡рд▓ рдкрд╛рд░ рдХрд░реЛ!</p>

        <div class="hero-actions">
          <button id="btn-start" class="btn primary full">ЁЯОо рдЦреЗрд▓ рд╢реБрд░реВ рдХрд░реЗрдВ</button>
          <button id="btn-map" class="btn full">ЁЯЧ║я╕П Level Map</button>
          <button id="btn-shop" class="btn full">ЁЯЫТ Shop</button>
        </div>
        <p class="hero-footer">Made with тЭдя╕П тАФ Arun App Studio</p>
      </div>
    </main>

    <!-- LEVEL MAP PAGE -->
    <section id="map" class="page hidden">
      <div class="page-inner">
        <button class="btn back" data-go="home">тЖР Home</button>
        <h2 class="page-title">Level Map</h2>
        <div id="levels" class="levels"></div>
      </div>
    </section>

    <!-- GAME PAGE -->
    <section id="game" class="page hidden">
      <div class="page-inner">
        <header class="game-header">
          <button class="btn back" data-go="map">тЖР Map</button>
          <div class="stats">
            <div>Score: <span id="score">0</span></div>
            <div>Coins: <span id="coins">0</span></div>
            <div>Level: <span id="level-num">1</span></div>
          </div>
        </header>

        <div class="board-wrap">
          <div id="board" class="board"></div>
        </div>

        <div class="controls">
          <button id="btn-restart" class="btn">ЁЯФБ Restart</button>
          <button id="btn-shuffle" class="btn">ЁЯФА Shuffle</button>
        </div>
      </div>
    </section>

    <!-- SHOP PAGE -->
    <section id="shop" class="page hidden">
      <div class="page-inner">
        <button class="btn back" data-go="home">тЖР Home</button>
        <h2 class="page-title">Shop</h2>
        <p>рдпрд╣рд╛рдБ рдкрд╛рд╡рд░-рдЕрдк рдФрд░ рдХрд╕реНрдЯрдо рдкреИрдХ рд╣реЛрдВрдЧреЗред (Demo)</p>
        <button class="btn" data-go="home">Close</button>
      </div>
    </section>

  </div>

  <!-- рдЫреЛрдЯрд╛ рдкреЗрдЬ-рдиреЗрд╡рд┐рдЧреЗрд╢рди рд╕реНрдХреНрд░рд┐рдкреНрдЯ (index рдореЗрдВ рд░рдЦрдиреЗ рд╕реЗ рдиреЗрд╡рд┐рдЧреЗрд╢рди рдкрдХреНрдХрд╛ рдХрд╛рдо рдХрд░реЗрдЧрд╛) -->
  <script>
    // рдкреЗрдЬ-рд╢реЛ/рд╣рд╛рдЗрдб helper
    (function(){
      function showPage(id){
        document.querySelectorAll('.page').forEach(p => {
          p.classList.add('hidden');
          p.classList.remove('page--active');
        });
        const el = document.getElementById(id);
        if(el){
          el.classList.remove('hidden');
          el.classList.add('page--active');
          // scroll top each page when shown
          el.scrollTop = 0;
        }
      }

      // start / map / shop buttons from home
      document.addEventListener('DOMContentLoaded', function(){
        const start = document.getElementById('btn-start');
        const map = document.getElementById('btn-map');
        const shop = document.getElementById('btn-shop');

        if(start) start.addEventListener('click', function(){
          // if you have CandyGame.startLevel available, call it
          if(window.CandyGame && typeof window.CandyGame.startLevel === 'function'){
            window.CandyGame.startLevel(1);
          } else {
            // otherwise just show game page (game.js should init later)
            showPage('game');
          }
        });

        if(map) map.addEventListener('click', function(){
          showPage('map');
        });

        if(shop) shop.addEventListener('click', function(){
          showPage('shop');
        });

        // back buttons (data-go attr)
        document.querySelectorAll('.back, [data-go]').forEach(btn=>{
          btn.addEventListener('click', function(e){
            const tgt = btn.getAttribute('data-go');
            if(tgt) showPage(tgt);
          });
        });

        // ensure only home visible initially
        showPage('home');
      });
    })();
  </script>

  <!-- existing game-related scripts (keep order as you had) -->
  <script defer src="js/storage.js"></script>
  <script defer src="js/safe-ui.js"></script>
  <script defer src="js/level-map.js"></script>
  <script defer src="js/game.js"></script>
</body>
  </html>
