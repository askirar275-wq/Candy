<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Candy Match тАФ Demo</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header class="site-header">
    <div class="brand">ЁЯНм Candy Match</div>
    <nav class="top-nav">
      <a href="#home">Home</a>
      <a href="#map">Map</a>
      <a href="#play">Play</a>
      <a href="#about">About</a>
    </nav>
  </header>

  <main id="app">
    <!-- Pages: sections shown/hidden by router -->
    <section id="page-home" class="page card">
      <h1>рдХреИрдВрдбреА рдореИрдЪ</h1>
      <p class="lead">рдореИрдЪ. рдкреЙрдк. рдореБрд╕реНрдХреБрд░рд╛рдУ!</p>
      <div class="controls">
        <a class="btn primary" href="#play">Play</a>
        <a class="btn" href="#map">Map</a>
      </div>
      <p class="links"><a href="#map">Level Map</a> ┬╖ <a href="#settings">Settings</a> ┬╖ <a href="#about">About</a></p>
    </section>

    <section id="page-map" class="page card">
      <a class="back" href="#home">тЖР Home</a>
      <h2>Level Map</h2>
      <div id="levelGrid" class="level-grid"></div>
      <button id="resetProgress" class="btn">Reset Progress</button>
    </section>

    <section id="page-play" class="page card">
      <a class="back" href="#map">тЖР Map</a>
      <h2 id="levelTitle">Level 1</h2>

      <div class="stats-row">
        <div class="stat">Score: <span id="score">0</span></div>
        <div class="stat">Moves: <span id="moves">30</span></div>
        <div class="stat">Target: <span id="target">600</span></div>
        <div class="stat">Timer: <span id="timer">--:--</span></div>
      </div>

      <div class="board-card">
        <div id="gameControls" class="controls">
          <button id="restartBtn" class="btn">Restart</button>
          <button id="shuffleBtn" class="btn">Shuffle</button>
          <button id="endBtn" class="btn">End</button>
        </div>

        <div class="game-grid-container">
          <div id="gameGrid" class="game-grid" aria-hidden="false"></div>
        </div>
      </div>

      <div id="endPanel" class="card hidden">
        <h3 id="endTitle">Level Complete!</h3>
        <p id="endInfo"></p>
        <div class="controls">
          <button id="replayBtn" class="btn">Replay</button>
          <button id="nextBtn" class="btn">Next</button>
          <a class="btn" href="#map">Map</a>
        </div>
      </div>
    </section>

    <section id="page-settings" class="page card">
      <a class="back" href="#home">тЖР Back</a>
      <h2>Settings</h2>
      <label><input id="muteSound" type="checkbox"> Mute Sound</label>
    </section>

    <section id="page-about" class="page card">
      <a class="back" href="#home">тЖР Back</a>
      <h2>About</h2>
      <p>Simple Candy Match demo тАФ рдореЛрдмрд╛рдЗрд▓-friendly рдФрд░ smooth animations рдХреЗ рд╕рд╛рдеред</p>
    </section>
  </main>

  <footer class="site-footer">┬й Candy Match</footer>

  <!-- scripts -->
  <script src="js/storage.js"></script>
  <script src="js/sound.js"></script>
  <script src="js/game.js"></script>
  <script>
    // рдЫреЛрдЯрд╛ router: hash changes рдкрд░ page рджрд┐рдЦрд╛рдПрдБ
    (function(){
      function showPage(name){
        document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
        const el = document.getElementById('page-' + name);
        if(el) el.classList.remove('hidden');
      }
      function route(){
        const hash = location.hash.replace('#','') || 'home';
        // map, play => special handling
        if(hash.startsWith('play')){
          // format: play?level=2 handled by game module
          showPage('play');
          window.Game && window.Game.startFromHash();
        } else if(hash.startsWith('map')) {
          showPage('map');
          window.Game && window.Game.renderLevelMap();
        } else if(hash.startsWith('settings')) showPage('settings');
        else if(hash.startsWith('about')) showPage('about');
        else showPage('home');
      }
      window.addEventListener('hashchange', route);
      window.addEventListener('load', ()=>{ route(); });
    })();
  </script>
</body>
  </html>
